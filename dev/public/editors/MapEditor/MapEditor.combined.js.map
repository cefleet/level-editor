{"version":3,"sources":["MapEditor.js","Map.js","componants/Layer.js","componants/LayerManager.js","componants/Sprite.js","componants/SpriteManager.js","componants/Tileset.js","componants/Tool.js","componants/ToolManager.js","componants/Trigger.js","componants/TriggerManager.js"],"names":[],"mappings":"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","file":"MapEditor.combined.js","sourcesContent":["MapEditor = function (options) {\n\n\toptions = options || {};\n\n\tthis.mainContainer = options.main || '';\n\tthis.gridContainer = options.grid ||'';\n\tthis.tilesetContainer = options.tileset ||'';\n\n\tthis.Intercom = options.Intercom || new Intercom();\n\tthis.EventEmitter = this.Intercom.EventEmitter;\n\tthis.tools = {\n\t\tsingle  : {\n\t\t\tname : 'single',\n\t\t\ttitle : 'Single',\n\t\t\timage : '/img/ui/single.png'\n\t\t},\n\t\teraser : {\n\t\t\tname : 'eraser',\n\t\t\ttitle : 'Eraser',\n\t\t\timage : '/img/ui/erase.png'\n\t\t}\n\t};\n\tvar tools = options.tools || {};\n\tPhaser.Utils.extend(this.tools , tools);\n\tthis.map = {};\n\n\tthis.listenOutFor = [\n\t//FROM UI\n\t{\n\t\tevent:'createMap',\n\t\taction : 'create'\n\t},\n\t{\n\t\tevent :'saveMap',\n\t\taction : 'saveMap'\n\t},\n\t{\n\t\tevent : 'loadMap',\n\t\taction : 'load'\n\t}\n\t//FROM Editor\n\t];\n\n\tthis.Intercom.setupListeners(this);\n};\n\nMapEditor.prototype.constructor = MapEditor;\n\nPhaser.Utils.extend(MapEditor.prototype , {\n\tsetup : function(name,grid,tileset,id){\n\t\tthis.destroy();\n\t\tthis.map = {};\n\t\tthis.map.name =  name || 'My Map';\n\t\tthis.map.id = id || $uid();\n\n\t\ttileset = tileset || {};\n\t\ttileset.container = tileset.container || this.tilesetContainer;\n\t\tthis.tileset = new MapEditor.Tileset(tileset, this);\n\n\t\tgrid = grid || {};\n\t\tgrid.container = grid.container || this.gridContainer;\n\t\tthis.grid = new MapEditor.Map(grid, this);\n\n\t\t//We can have a go between here so phaser events don't mesh with other events\n\t\tthis.layerManager = new MapEditor.LayerManager(grid, this);\n\n\t\t//TODO: These have not been setup yet\n\t\tthis.toolManager = new MapEditor.ToolManager(this);\n\t\tthis.triggerManager = new MapEditor.TriggerManager(this);\n\t\tthis.spriteManager = new MapEditor.SpriteManager(this);\n\n\t\t//ads in some settings\n\t\tthis.EventEmitter.once('ToolsLinked', function(grid){\n\t\t\tthis.loadTools();\n\t\t}.bind(this));\n\n\t},\n\n\tcreate : function(name,grid,tileset,id){\n\t\tthis.setup(name,grid,tileset,id);\n\t\t//Since we are in create instead of load it just makes the base layer\n\t\tthis.EventEmitter.once('LayersGroupLinked', function(grid){\n\t\t\tthis.EventEmitter.trigger('createLayer', ['base']);\n\t\t}.bind(this));\n\t},\n\n\tload : function(map){\n\n\t\tif(typeof map.tilemap === 'string'){\n\t\t\tmap.tilemap = JSON.parse(map.tilemap);\n\t\t}\n\n\n\t\tvar tileset = {\n\t\t\timage : map.tileset.image,\n\t\t\timageheight : Number(map.tileset.imageheight),\n\t\t\timagewidth : Number(map.tileset.imagewidth),\n\t\t\tname : map.tileset.name,\n\t\t\ttilewidth : Number(map.tileset.tilewidth),\n\t\t\ttileheight : Number(map.tileset.tileheight),\n\t\t\tcollisionTiles : map.tileset.collision,\n\t\t\tid : map.tileset._id\n\t\t};\n\n\t\tvar grid = {\n\t\t\ttilewidth : map.tilemap.tilewidth,\n\t\t\ttileheight : map.tilemap.tileheight,\n\t\t\ttilesx : map.tilemap.width,\n\t\t\ttilesy : map.tilemap.height\n\t\t};\n\t\tthis.destroy();\n\t\tthis.setup(map.name,grid,tileset,map.id);\n\n\t\tthis.EventEmitter.once('LayersGroupLinked', function(grid){\n\t\t\tthis.EventEmitter.trigger('loadLayers',[map]);\n\t\t}.bind(this));\n\n\t\t/*\n\t\t//the create has already made the grid\n\t\tthis.grid.events.tilesetLoaded.add(function(){\n\t\t\tthis.grid.loadLayers(map);\n\t\t}, this);\n\t\t//this.loadMapData = map;\n\n\t\t//TODO: this is waiting o nthe wrong thing\n\t\t/*\n\t\tif(this.tileset.loaded === false\t){\n\t\tthis.tileset.onLoad = this._load.bind(this);\n\t} else {\n\tthis._load();\n}\n*/\n},\n\n\tloadTools : function(){\n\t\tfor(var tool in this.tools){\n\t\t\tthis.toolManager.create(this.tools[tool]);\n\t\t}\n\t},\n\n\tdestroy : function(){\n\t\tdelete this.map;\n\n\t\tif(this.grid) {\n\t\t\tthis.Intercom.stopListening(this.grid);\n\t\t\tthis.grid.destroy();\n\t\t\tdelete this.grid;\n\t\t}\n\n\t\tif(this.tileset){\n\t\t\tconsole.log(this.tileset);\n\t\t\tthis.Intercom.stopListening(this.tileset);\n\t\t\tthis.tileset.destroy();\n\t\t\tdelete this.tileset;\n\t\t}\n\n\t\tif(this.layerManager){\n\t\t\tconsole.log(this.layerManager);\n\t\t\tthis.Intercom.stopListening(this.layerManager);\n\t\t\tdelete this.layerManager;\n\t\t}\n\t},\n\n\t/*\n\t* Saves the Map\n\t*/\n\tsaveMap : function(){\n\n\t\tvar layers = [];\n\n\t\t//TODO: sort by the layers z index\n\t\t//into a temp array so they can be placed in this array in order\n\t\tvar tempArr = [];\n\t\tfor(var l in this.layerManager.layers){\n\t\t\ttempArr.push([l,this.layerManager.layers[l].order]);\n\t\t}\n\n\t\ttempArr.sort(function(a,b){return a[1]-b[1];});\n\t\tvar mapLayers = {};\n\n\t\tfor(var i = 0; i < tempArr.length; i++){\n\t\t\tvar layer = this.layerManager.layers[tempArr[i][0]];\n\t\t\tvar ar = [];\n\n\t\t\tfor(var t in layer.tiles){\n\t\t\t\tar.push(layer.tiles[t].tilesetId);\n\t\t\t}\n\n\t\t\tlayers.push({\n\t\t\t\tdata : ar,\n\t\t\t\theight : Number(this.grid.tilesy),\n\t\t\t\tname : layer.id,\n\t\t\t\topacity : 1,\n\t\t\t\ttype : 'tilelayer',\n\t\t\t\tvisible : true,\n\t\t\t\twidth: Number(this.grid.tilesx),\n\t\t\t\tx : 0,\n\t\t\t\ty: 0\n\t\t\t});\n\n\t\t\tmapLayers[layer.id] = {\n\t\t\t\tid : layer.id,\n\t\t\t\tname : layer.name,\n\t\t\t\torder : layer.order\n\t\t\t};\n\t\t}\n\n\t\tvar json = {\n\t\t\theight : Number(this.grid.tilesy),\n\t\t\twidth: Number(this.grid.tilesx),\n\t\t\tlayers  : layers,\n\n\t\t\t//TODO: possibly of combining tilesets\n\t\t\ttilesets : [\n\t\t\t{\n\t\t\t\tfirstgid : 1,\n\t\t\t\timage : this.tileset.image,\n\t\t\t\timageheight : Number(this.tileset.imageheight),\n\t\t\t\timagewidth : Number(this.tileset.imagewidth),\n\t\t\t\tmargin : 0,\n\t\t\t\tname : this.tileset.name,\n\t\t\t\tspacing : 0,\n\t\t\t\ttileheight: Number(this.tileset.tileheight),\n\t\t\t\ttilewidth : Number(this.tileset.tilewidth)\n\t\t\t}\n\t\t\t],\n\t\t\torientation:\"orthogonal\",\n\t\t\ttileheight : Number(this.tileset.tileheight),\n\t\t\ttilewidth:Number(this.tileset.tilewidth),\n\t\t\tversion :1\n\t\t};\n\n\t\tthis.map.tilemap = json;\n\t\tthis.map.layers = mapLayers;\n\t\tthis.map.tilesetId = this.tileset.id;\n\t\tthis.EventEmitter.trigger('mapReadyForSave',[this.map]);\n\t\t//\treturn this.map;\n\t},\n\nchangeSettings : function(){},\n\nlaunchGame : function(options){\n\n\tthis.eOptions = options;\n\tthis.events.mapSaved.addOnce(this._launchGame, this);\n\tthis.saveMap();\n},\n\n_launchGame : function(map){\n\n\tvar options = this.eOptions;\n\toptions.map = this.map;\n\toptions.map.tileset = this.tileset;\n\n\tthis.grid.destroy();\n\tthis.tileset.destroy();\n\tdelete this.grid;\n\tdelete this.tileset;\n\n\tGameMaker.UI.Actions._playGame(options);\n},\n\n});\n","MapEditor.Map = function (options,parent) {\n\n\toptions = options || {};\n\n\tthis.parent = options.parent || parent;\n\tthis.EventEmitter = this.parent.EventEmitter;\n\n\tthis.container = options.container;\n\tthis.linecolor = options.line || 0x000000;\n\tthis.loc = options.loc || [0,0];\n\tthis.activeTileOp = 0;\n\tthis.tilewidth = options.tilewidth || 32;\n\tthis.tileheight = options.tileheight || 32;\n\tthis.tilesy = options.tilesy || 16;\n\tthis.tilesx = options.tilesx || 18;\n\tthis.offsetx = 0;\n\tthis.offsety = 0;\n\tthis.scale = 1;\n\tthis.baseHeight = this.tilesy*this.tileheight;\n\tthis.baseWidth = this.tilesx*this.tilewidth;\n\tthis.activeTool = 'single';\n\n    //setup\n    this.game = new Phaser.Game(this.tilewidth*this.tilesx,this.tileheight*this.tilesy, Phaser.CANVAS,this.container, {\n\n\t\tpreload : function(){\n\t\t\t//TODO: this needs to be gotten from the tools section\n\n\t\t\t//this is a little funky but it's fine for now\n\t\t\tthis.game.load.image('eraser', 'img/ui/erase.png');\n\t\t\t//this.game.load.image('single', 'img/ui/single.png');\n\t\t\tthis.game.load.image('fill', 'img/ui/fill.png');\n\t\t\tthis.game.load.image('select','img/ui/select.png');\n\t\t\tthis.game.load.image('trigger','img/ui/trigger.png');\n\t\t\tthis.game.load.image('sprite','img/ui/sprite.png');\n\n\t\t},\n\n\t\tcreate:function(){\n\t\t\tthis.game.canvas.oncontextmenu = function (e) { e.preventDefault(); };\n\t\t//\tthis.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\n\t\t//\tthis.game.scale.setScreenSize();\n\t\t\tthis.game.stage.backgroundColor ='#545454'; //''\n\t\t\tthis.setup();\n\n\t\t}.bind(this)\n\t});\n\n\tthis.listenOutFor = [\n\t{\n\t\tevent : 'tileSelected',\n\t\taction :'setMarkerFromTile'\n\t},\n\t{\n\t\tevent : 'tilesetLoaded',\n\t\taction : 'loadTilesetImage'\n\t}\n\t];\n\n\tthis.parent.Intercom.setupListeners(this);\n\treturn this;\n};\n\nMapEditor.Map.prototype = {\n\n\tsetup : function(){\n\t\tthis.drawGrid();\n\t\tthis.setupMouse();\n\t\tthis.marker = this.game.add.sprite(0,0,'');\n\t\tthis.marker.tilesetId = 0;\n\n\t\tthis.layersGroup = this.game.add.group();\n\t\tthis.EventEmitter.trigger('gridReady', [this]);\n\t},\n\n\t/*\n\t * Draws the grid\n\t */\n\tdrawGrid : function(){\n\n\t\tthis.gridImage = this.game.add.graphics(0, 0);  //init rect\n\t\tthis.gridImage.lineStyle(1, this.linecolor, 1); // width, color (0x0000FF), alpha (0 -> 1) // required settings\n\t\tthis.gridImage.drawRect(this.loc[0],this.loc[1], this.tilesx*this.tilewidth,this.tilesy*this.tileheight);\n\n\t\tvar r = 0;\n\t\tvar c = 0;\n\n\t\twhile(r <= this.tilesx){\n\t\t\tthis.gridImage.moveTo(this.loc[0]+(this.tilewidth*r), this.loc[1]); // x, y\n\t\t\tthis.gridImage.lineTo(this.loc[0]+(this.tilewidth*r), this.tileheight*(this.tilesy)+this.loc[1]);\n\t\t\tr++;\n\t\t}\n\n\t\twhile(c <= this.tilesy){\n\t\t\tthis.gridImage.moveTo(this.loc[0], this.loc[1]+(this.tileheight*c)); // x, y\n\t\t\tthis.gridImage.lineTo(this.tilewidth*(this.tilesx)+this.loc[0],this.loc[1]+(this.tileheight*c));\n\t\t\tc++;\n\t\t}\n\t},\n\n\tsetActiveTool  : function(tool){\n\t\tthis.EventEmitter.trigger('setActiveTool',[tool]);\n\t},\n\n\t/*\n\t * Returns the tile under the point (Point does not haveto be a real point it just an object with properties of x, y)\n\t */\n\tgetTileFromPoint : function(point){\n\t\t//Tiles are here\n\t\tfor(var tile in this.activeLayer.tiles){\n\t\t\tvar t = this.activeLayer.tiles[tile];\n\t\t\tif(point.x > t.x && point.x < t.x+this.tilewidth && point.y > t.y && point.y < t.y+this.tileheight){\n\t\t\t\treturn t;\n\t\t\t}\n\t\t}\n\t},\n\n\t/*\n\t * Sets the active Tile\n\t * * This name should be moveMarkerToTileFromPoint\n\t */\n\tsetActiveTileFromPoint : function(point){\n\t\tvar t = this.getTileFromPoint(point);\n\t\tif(t){\n\t\t\tthis.activeTile = t;\n\t\t\tthis.marker.x = t.x;\n\t\t\tthis.marker.y = t.y;\n\t\t}\n\t\treturn this.activeTile;\n\t},\n\n\t/*\n\t * Uses the activeTile to set the tileset ID\n\n\t */\n\tsetTileIdOfActiveTileFromMarker : function(){\n\t\tthis.activeTile.tilesetId = this.marker.tilesetId;\n\t},\n\n\t/*\n\t * Uses the active tile and marker sprite to place a sprite on the\n\t */\n\tsetSpriteOfActiveTileFromMarker : function(){\n\t\tthis.activeTile.sprite = this.game.add.sprite(this.marker.x,this.marker.y,this.marker.key,this.marker.frame);\n\t\tthis.activeLayer.add(this.activeTile.sprite);\n\t},\n\n\t/*\n\t * combines the id and sprite\n\t */\n\tsetActiveTileFromMarker : function(){\n\t\tthis.unsetActiveTile();\n\t\tthis.setTileIdOfActiveTileFromMarker();\n\t\tthis.setSpriteOfActiveTileFromMarker();\n\t},\n\t/*\n\t * Unsets the active tile\n\t */\n\tunsetActiveTile : function(){\n\t\tif(this.activeTile){\n\t\t\tif(this.activeTile.sprite){\n\t\t\t\tthis.activeTile.sprite.destroy();\n\t\t\t}\n\t\t}\n\n\t\tthis.activeTile.tilesetId = 0;\n\t},\n\n\tsetupMouse : function(){\n\t\tthis.game.input.mouse.mouseMoveCallback = function(c){\n\t\t\tvar p = {\n\t\t\t\tx : c.offsetX/this.scale,\n\t\t\t\ty : c.offsetY/this.scale\n\t\t\t};\n\n\t\t\tif(this.inGrid(p)){\n\t\t\t\tthis.setActiveTileFromPoint(p);\n\t\t\t\tif(this.game.input.activePointer.isDown){\n\n\t\t\t\t\tif(c.which === 1){\n\n\t\t\t\t\t\tif(this.activeTool === 'eraser'){\n\t\t\t\t\t\t\tthis.unsetActiveTile();\n\t\t\t\t\t\t} else if(this.activeTool === 'single') {\n\t\t\t\t\t\t\tthis.setActiveTileFromMarker();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this);\n\n\t\tthis.game.input.mouse.mouseDownCallback = function(c){\n\t\t\tvar p = {\n\t\t\t\tx : c.offsetX/this.scale,\n\t\t\t\ty : c.offsetY/this.scale\n\t\t\t};\n\t\t\tif(this.inGrid(p)){\n\t\t\t\tthis.setActiveTileFromPoint(p);\n\n\t\t\t\tif(c.which === 1){\n\n\t\t\t\t\t//Single and eraser are intrinsiclly a part of the grid Even though they are grouped wit hthe tools they are a function of the grid\n\t\t\t\t\tif(this.activeTool === 'eraser'){\n\t\t\t\t\t\tthis.unsetActiveTile();\n\t\t\t\t\t} else if(this.activeTool === 'single') {\n\t\t\t\t\t\tthis.setActiveTileFromMarker();\n\t\t\t\t\t}  else {\n\t\t\t\t\t\tthis.EventEmitter.trigger('placeOnGrid'+this.activeTool);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}.bind(this);\n\t},\n\n\tdestroy : function(){\n\t\tfor(var g in this.layers){\n\t\t\tthis.layers[g].destroy();\n\t\t}\n\t\tif(this.gridImage){\n\t\t\tthis.gridImage.destroy();\n\t\t}\n\t\tif(this.game){\n\t\t\tthis.game.input.mouse.mouseMoveCallback = function(){};\n\t\t\tthis.game.input.mouse.mouseDownCallback = function(){};\n\t\t\tthis.game.destroy();\n\t\t}\n\t},\n\n\n\tloadTilesetImage : function(t){\n\t\tconsole.log('It was called');\n\t\tthis.spritesheet = this.game.load.spritesheet(t.name,t.image,t.tilewidth,t.tileheight);\n\n\t\tthis.spritesheet.onLoadComplete.add(function(){\n\t\t\tthis.EventEmitter.trigger('tilesetImageLoadedInGrid', [this]);\n\t\t}, this);\n\n\n\t\tthis.spritesheet.start();\n\t},\n\n\n\n\tsetMarkerFromTile : function(t){\n\n\t\tif(this.activeTool !== 'fill'){\n\t\t\tthis.setActiveTool('single');\n\t\t}\n\n\t\t//only fill will keep the marker\n\t\tthis.marker.destroy();\n\t\tthis.marker = this.game.add.sprite(0,0, t.name, t.selectedTile.frame*1);\n\t\tthis.marker.tilesetId = t.selectedTile.id;\n\n\t},\n\n\t/*\n\t * Checks to see if point is in the grid\n\t */\n\tinGrid : function(point){\n\t\tif(point.x > this.loc[0] && point.y > this.loc[1] && point.x < this.loc[0]+(this.tilesx*this.tilewidth) && point.y < this.loc[1]+(this.tilesy*this.tileheight)){\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n};\n\nMapEditor.Map.prototype.constructor = MapEditor.Map;\n","MapEditor.Layer = function(options, parent){\n  options = options || {};\n  this.parent = parent;\n  this.name = options.name || 'New Layer';\n  this.id = options.id || $uid();\n\n  this.tiles = {};\n  this.parent.makeTiles(this);\n  this.order = options.order;\n\n  return this;\n};\n","MapEditor.LayerManager  = function(options,parent){\n  options = options  || {};\n  //This is gleaned from th egrid\n  this.tilewidth = options.tilewidth || 32;\n  this.tileheight = options.tileheight || 32;\n  this.tilesy = options.tilesy || 16;\n  this.tilesx = options.tilesx || 18;\n  this.loc = options.loc || [0,0];\n\n  this.parent = parent;\n  this.EventEmitter = this.parent.EventEmitter;\n  this.layers = {};\n\n  this.listenOutFor = [\n  {\n    event : 'createLayer',\n    action :'create'\n  },\n  {\n    event : 'makeLayerActive',\n    action : 'makeLayerActive'\n  },\n  {\n    event : 'toggleLayer',\n    action : 'toggleLayer'\n  },\n  {\n    event : 'gridReady',\n    action : 'linkLayerGroup'\n  },\n  {\n    event : 'loadLayers',\n    action : 'loadLayers'\n  },\n  {\n    event : 'orderLayers',\n    action : 'orderLayers'\n  },\n  {\n    event : 'layerNameChanged',\n    action : 'renameLayer'\n  }\n  ];\n\n  this.parent.Intercom.setupListeners(this);\n  return this;\n};\n\nMapEditor.LayerManager.prototype = {\n\n  linkLayerGroup : function(grid){\n    this.layersGroup = grid.layersGroup;\n    this.EventEmitter.trigger('LayersGroupLinked');\n  },\n\n  create : function(name,id){\n    id = id || $uid();\n    name = name || 'New Layer';\n\n    var highest = 0;\n    for(var layer in this.layers){\n      if(this.layers[layer].order >= highest) {\n        highest = this.layers[layer].order+1;\n      }\n    }\n\n    this.layers[id] = this.layersGroup.add(this.layersGroup.game.add.group());\n    this.layers[id].id = id;\n    this.layers[id].name = name;\n    this.layers[id].order = highest;\n    this.layers[id].tiles = {};\n    this.makeTiles(this.layers[id]);\n\n    this.EventEmitter.trigger('layerCreated', [this.layers[id]]);\n    this.makeLayerActive(this.layers[id]);\n  },\n\n  loadLayers : function(map){\n    this.layers = {};// this effictivly deletes the \"base\" layer that was added on create. There would not be anything in it so it shouldn't hurt anything\n    var len = map.tilemap.layers.length;\n    var layers = map.tilemap.layers;\n    for(var j = 0; j < len; j++){\n      this.loadLayer(layers[j], map);\n    }\n    //set the order\n    var tempArr = [];\n    for(var l in this.layers){\n      tempArr.push([l,this.layers[l].order]);\n    }\n    tempArr.sort(function(a,b){return a[1]-b[1];});\n\n    var orderArr = [];\n\n    for(var i = 0; i < tempArr.length; i++){\n      orderArr.push(tempArr[0]);\n    }\n\n    this.orderLayers(orderArr);\n    //then get\n    this.makeLayerActive(layers[0].name);\n  },\n\n  loadLayer : function(layer, map){\n    var layerinfo = map.layers[layer.name];\n    this.create(layerinfo.name,layerinfo.id);\n    this.layers[layerinfo.id].order = layerinfo.order;\n    var data = layer.data;\n    for(var i = 0; i < data.length; i++){\n      var id = data[i];\n      var t = this.layers[layer.name].tiles[i];\n      t.tilesetId = id;\n      if(id !== 0){\n        if(this.parent.tileset.tiles[id-1]){\n          t.sprite = this.parent.grid.game.add.sprite(t.x,t.y,this.parent.tileset.name, this.parent.tileset.tiles[id-1].frame);\n          this.layers[layerinfo.id].add(t.sprite);\n        }\n      }\n    }\n  },\n\n  //make layer active\n  makeLayerActive : function(layer){\n    if(typeof layer === 'string'){\n      layer = this.layers[layer];\n    }\n    this.activeLayer = layer;\n    this.parent.grid.activeLayer = this.activeLayer;\n    console.log(layer);\n    this.EventEmitter.trigger('activeLayerSet', [layer]);\n  },\n\n  //Show Hid layer\n  toggleLayer : function(layer){\n    if(typeof layer === 'string'){\n      layer = this.layers[layer];\n    }\n\n    if(layer.visible){\n      layer.visible = false;\n    } else {\n      layer.visible = true;\n    }\n\n    this.EventEmitter.trigger('layerVisibiltySet', [layer]);\n  },\n\n  renameLayer : function(layer, newName){\n    if(typeof layer === 'string'){\n      layer = this.layers[layer];\n    }\n    layer.name = newName;\n  },\n\n  //orders the layers by id or actall object. order is an array\n  orderLayers : function(order){\n    var o = order.length;\n    for(var i =0; i < order.length; i++){\n      var layer = order[i];\n      if(typeof  layer === 'string'){\n        layer = this.layers[layer];\n      }\n      if(typeof layer !== 'undefined'){\n        layer.order = o;\n        this.layersGroup.sendToBack(layer);\n        o--;\n      }\n    }\n\n    this.EventEmitter.trigger('layerOrderSet');\n  },\n\n  deleteLayer : function(layer){\n    if(typeof layer === 'string'){\n      layer = this.layers[layer];\n    }\n    this.layersGroup.remove(layer,true);\n  },\n  /*\n  * Makes the tiles (id and location data) into an array\n  * */\n  makeTiles : function(layer){\n    var r = 0;\n    var i = 0;\n    while(r < this.tilesy){\n      var c = 0;\n      while(c < this.tilesx){\n        layer.tiles[i] = {\n          x : c*this.tilewidth+this.loc[0],\n          y : r*this.tileheight+this.loc[1],\n          id : i,\n          row : c,\n          col : r,\n          loc : c+'-'+r,\n          tilesetId : 0\n        };\n        c++;\n        i++;\n      }\n      r++;\n    }\n  }\n\n};\n\nMapEditor.LayerManager.prototype.constructor = MapEditor.LayerManager;\n","MapEditor.Trigger = function(options){\n\toptions = options || {};\n\tthis.id = options.id || $uid();\n\tthis.name = options.name || 'sprite';\n\tthis.spritesheet = options.spritesheet || 'img/player.png';\n\tthis.frameSize = options.frameSize || {width : '', height:''}; //default is the whole image. Othewise it is a object with width/ height attributes\n\tthis.location = options.location || {x:0,y:0};//location\n\tthis.layer = options.layer || '0';\n\n\t//these all are added when you edit a sprite\n\tthis.animations = false; //This is an object {name : [frames], name: [frames]}\n\tthis.patrol = false; //or an array of locations\n\tthis.onPlayerCollision = false; //The options here are false,destroy,trigger,or code //You can set it false and apply trigger from the trigger or apply it here\n\tthis.onSpriteCollision = false;//What happens when colliding with another sprite false,destroy,trigger,or code\n\n\t//this is not nessessary for the editor.\n\tthis.patrolling = false;\n\tthis.patrolPos = 0; // the index of the sprites patrol\n\n\treturn this;\n};\n","MapEditor.SpriteManager = function(parent){\n\tthis.parent = parent;\n\tthis.EventEmitter = this.parent.EventEmitter;\n\n\tthis.sprites = {};\n\n\treturn this;\n};\n\nMapEditor.SpriteManager.prototype = {\n\n\tcreate : function(options){\n\t//\tconsole.log(this);\n\t\tvar t = new MapEditor.Sprite(options);\n\t\tthis.sprites[t.id] = t;\n\t\t//this.events.spriteCreated.dispatch(t);\n\t\tthis.EventEmitter.trigger('spriteCreated', t);\n\t}\n};\nMapEditor.SpriteManager.prototype.constructor = MapEditor.SpriteManager;\n","MapEditor.Tileset = function (options,parent) {\n\t//With these changes\n\toptions = options || {};\n\n\tthis.parent = options.parent || parent;\n\tthis.EventEmitter = this.parent.EventEmitter;\n\n\tthis.container = options.container;\n\tthis.image  = options.image || 'img/sampletileset.png';\n\tthis.name = options.name || 'tiles';\n\tthis.imageheight = options.imageheight || 256;\n\tthis.imagewidth = options.imagewidth || 256;\n\tthis.tilewidth = options.tilewidth || 32;\n\tthis.tileheight = options.tileheight || 32;\n\tthis.collisionTiles = options.collisionTiles ||  [0,1,[2-23]]; //this is purposlly writtein to show that it can be an array of number or an array of arrays sets or a mixture\n    this.tiles = {};\n    this.bgColor = options.bgColor || {\n\t\tline : 0x2F2F2F,\n\t\tfill : 0x9C9C9C\n\t};\n\tthis.loaded = false;\n\n\tif(!options.id) {\n\t  console.warn('There is no tileset id');\n\t} else {\n\t\tthis.id = options.id;\n\t}\n\n\tthis.game = new Phaser.Game(this.imagewidth+(this.imagewidth/this.tilewidth),this.imageheight+(this.imageheight/this.tileheight), Phaser.CANVAS,this.container, {\n\t\tcreate:function(){\n\t\t\tthis.game.canvas.oncontextmenu = function (e) { e.preventDefault(); };\n\t\t\tthis.game.stage.backgroundColor ='#000000';\n\n\t\t\tthis.spritesheet = this.game.load.spritesheet(this.name,this.image,this.tilewidth,this.tileheight);\n\t\t\tthis.setup();\n\t\t}.bind(this)\n\t});\n\n\treturn this;\n};\n\nMapEditor.Tileset.prototype = {\n\n\t/* creates the tilsets\n\t */\n\tcreate : function(){\n\n\t\tthis.tileGroup = this.game.add.group();\n\n\t\tvar rows= this.imageheight/this.tileheight;\n\t\tvar cols = this.imagewidth/this.tilewidth;\n\n\t\tvar t = cols*rows;\n\t\tvar x;\n\t\tvar y;\n\t\tvar r = 0;\n\t\tvar c = 0;\n\t\tfor(var i = 0; i < t; i++){\n\t\t\tif(c >= cols){\n\t\t\t\tc = 0;\n\t\t\t\tr++;\n\t\t\t}\n\t\t\tx = c*this.tilewidth;\n\t\t\ty = r*this.tileheight;\n\t\t\tthis.tiles[i] = this.game.add.button(x+c, y+r, this.name, this.selectTile, this);\n\t\t\tthis.tiles[i].id = i+1;\n\t\t\tthis.tiles[i].frame = i;\n\t\t\tthis.tileGroup.add(this.tiles[i]);\n\t\t\tc++;\n\t\t}\n\n\t\tthis.EventEmitter.trigger('tilesetLoaded', [this]);\n\n\t},\n\n\tdestroy : function(){\n\n\t\tif(this.tileGroup){\n\t\t\tthis.tileGroup.destroy();\n\t\t}\n\n\t\tthis.game.destroy();\n\t},\n\n\t/*\n\t * Selects the tile\n\t */\n\tselectTile : function(item){\n\t\tthis.selectedTile = item;\n\t\tthis.EventEmitter.trigger('tileSelected',[this]);\n\t},\n\n\tsetup : function(){\n\t\tthis.spritesheet.onLoadComplete.add(function(){\n\t\t\t//Don't make the tileset box until the image is loaded\n\t\t\tthis.create();\n\t\t}, this);\n\t\tthis.spritesheet.start();\n\t}\n};\n\nMapEditor.Tileset.prototype.constructor = MapEditor.Tileset;\n","MapEditor.Tool = function(options,parent){\n  options = options || {};\n  this.parent = parent;\n  this.name = options.name || 'tool';\n  this.image = options.image || 'img/ui/tool.png';\n  this.title = options.title || 'Tool';\n  this.parent.parent.grid.game.load.image(this.name, this.image);\n  return this;\n};\n","MapEditor.ToolManager  = function(parent){\n  this.parent = parent;\n  this.EventEmitter = this.parent.EventEmitter;\n  this.tools = {};\n  this.activeTool = '';\n\n  this.listenOutFor = [\n  {\n    event : 'gridReady',\n    action : 'linkToolsToGrid'\n  },\n  {\n    event : 'setActiveTool',\n    action : 'setActiveTool'\n  }\n  ];\n\n  this.parent.Intercom.setupListeners(this);\n\n  return this;\n};\n\nMapEditor.ToolManager.prototype = {\n\n  linkToolsToGrid : function(grid){\n    grid.tools = this.tools;\n    this.EventEmitter.trigger('ToolsLinked');\n  },\n\n  create : function(options){\n    var t = new MapEditor.Tool(options,this);\n    this.tools[t.id] = t;\n    this.EventEmitter.trigger('toolCreated', [t]);\n  },\n\n  setActiveTool : function(t){\n    var tool;\n    if(t instanceof MapEditor.Tool){\n      tool = t.name;\n    } else if(typeof t === 'string') {\n      tool = t;\n    }\n\n    this.activeTool = tool;\n    this.parent.grid.activeTool = this.activeTool;\n    this.parent.grid.marker.destroy();\n    if(this.activeTool !== 'single'){\n      this.parent.grid.marker = this.parent.grid.game.add.sprite(0,0, t);\n    } else {\n      this.parent.grid.marker = this.parent.grid.game.add.sprite(0,0, '');\n    }\n    this.parent.grid.marker.width = this.parent.grid.tilewidth;\n    this.parent.grid.marker.height = this.parent.grid.tileheight;\n\n    this.EventEmitter.trigger('activeToolSet', [tool]);\n  }\n\n};\n\nMapEditor.ToolManager.prototype.constructor = MapEditor.ToolManager;\n","MapEditor.Trigger = function(options){\n\toptions = options || {};\n\tthis.id = options.id || $uid();\n\tthis.name = options.name || 'trigger';\n\tthis.type = options.type || 'sprite'; //sprite,off\n\tthis.location = options.location || {x:0,y:0};//location\n\tthis.tileId = options.tileId || 0;\n\tthis.sprite = options.sprite || '';//if sprite is null then it is an invisible sprit\n\tthis.width = options.width || '32';\n\tthis.height = options.height || '32';\n\tthis.layer = options.layer || '0';\n\tthis.triggeredBy = options.triggeredBy || 'collide'; //collide, spriteCollide, action, trigger (ones that are called by trigger don't have a location)\n\tthis.actionType = options.actionType || 'addSprite'; //addSprite,removeSprite,moveSprite,animateSprite,showLayer,hideLayer, customCode\n\tthis.impactItem = options.impactItem || 'triggeredSprite';//this needs to be a sprite or a layer determined by \"this.actionType\" not used for customCode //this is the item impacted by trigger\n\tthis.onComplete = options.onComplete || '';//'',{action : callTrigger, trigger : trigername || id} , {action : callCode, code : function to run}\n\n\treturn this;\n};\n","MapEditor.TriggerManager  = function(parent){\n\tthis.parent = parent;\n\tthis.EventEmitter = this.parent.EventEmitter;\n\tthis.triggers = {};\n\treturn this;\n\n};\n\nMapEditor.TriggerManager.prototype = {\n\n\tcreate : function(options){\n\n\t\tvar t = new MapEditor.Trigger(options);\n\t\tthis.triggers[t.id] = t;\n\n\t}\n};\nMapEditor.TriggerManager.prototype.constructor = MapEditor.TriggerManager;\n"]}